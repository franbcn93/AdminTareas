(this.webpackJsonpcliente=this.webpackJsonpcliente||[]).push([[0],{40:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),n=a(15),o=a.n(n),s=(a(40),a(14)),i=a(4),l=a(11),u=a(2),b=a(6),j=a(0),d=function(){var e=Object(r.useState)({email:"",password:""}),t=Object(b.a)(e,2),a=t[0],c=t[1],n=a.email,o=a.password,i=function(e){c(Object(u.a)(Object(u.a)({},a),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(j.jsx)("div",{className:"form-usuario",children:Object(j.jsxs)("div",{className:"contenedor-form sombra-dark",children:[Object(j.jsx)("h1",{children:"Iniciar Sesi\xf3n"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(j.jsxs)("div",{className:"campo-form",children:[Object(j.jsx)("label",{htmlFor:"email",children:"Email"}),Object(j.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"Tu Email",value:n,onChange:i})]}),Object(j.jsxs)("div",{className:"campo-form",children:[Object(j.jsx)("label",{htmlFor:"password",children:"Password"}),Object(j.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"Tu Password",value:o,onChange:i})]}),Object(j.jsx)("div",{className:"campo-form",children:Object(j.jsx)("input",{type:"submit",className:"btn btn-primario btn-block",value:"Iniciar Sesi\xf3n"})})]}),Object(j.jsx)(s.b,{to:"/nueva-cuenta",className:"enlace-cuenta",children:"Obtener Cuenta"})]})})},p=function(){var e=Object(r.useState)({nombre:"",email:"",password:"",confirmar:""}),t=Object(b.a)(e,2),a=t[0],c=t[1],n=a.nombre,o=a.email,i=a.password,d=a.confirmar,p=function(e){c(Object(u.a)(Object(u.a)({},a),{},Object(l.a)({},e.target.name,e.target.value)))};return Object(j.jsx)("div",{className:"form-usuario",children:Object(j.jsxs)("div",{className:"contenedor-form sombra-dark",children:[Object(j.jsx)("h1",{children:"Obtener una cuenta"}),Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault()},children:[Object(j.jsxs)("div",{className:"campo-form",children:[Object(j.jsx)("label",{htmlFor:"email",children:"Nombre"}),Object(j.jsx)("input",{type:"text",id:"nombre",name:"nombre",placeholder:"Tu nombre",value:n,onChange:p})]}),Object(j.jsxs)("div",{className:"campo-form",children:[Object(j.jsx)("label",{htmlFor:"email",children:"Email"}),Object(j.jsx)("input",{type:"email",id:"email",name:"email",placeholder:"Tu Email",value:o,onChange:p})]}),Object(j.jsxs)("div",{className:"campo-form",children:[Object(j.jsx)("label",{htmlFor:"password",children:"Password"}),Object(j.jsx)("input",{type:"password",id:"password",name:"password",placeholder:"Tu Password",value:i,onChange:p})]}),Object(j.jsxs)("div",{className:"campo-form",children:[Object(j.jsx)("label",{htmlFor:"password",children:"Confirmar Password"}),Object(j.jsx)("input",{type:"password",id:"confirmar",name:"confirmar",placeholder:"Repite tu Password",value:d,onChange:p})]}),Object(j.jsx)("div",{className:"campo-form",children:Object(j.jsx)("input",{type:"submit",className:"btn btn-primario btn-block",value:"Registrarme"})})]}),Object(j.jsx)(s.b,{to:"/",className:"enlace-cuenta",children:"Volver a Iniciar Sesi\xf3n"})]})})},m=function(){return Object(j.jsxs)("header",{className:"app-header",children:[Object(j.jsxs)("p",{className:"nombre-usuario",children:["Hola",Object(j.jsx)("span",{children:" Francisco Par\xeds"})]}),Object(j.jsx)("nav",{className:"nav-principal",children:Object(j.jsx)("a",{href:"#!",children:"Cerrar Sesi\xf3n"})})]})},O=Object(r.createContext)(),h=Object(r.createContext)(),x=function(e){var t=e.proyecto,a=Object(r.useContext)(O).proyectoActual;Object(r.useContext)(h).obtenerTareas;return Object(j.jsx)("li",{children:Object(j.jsxs)("button",{type:"button",className:"btn btn-blank",onClick:function(){return a(t.id)},children:[t.nombre," "]})})},f=function(){var e=Object(r.useContext)(O),t=e.proyectos,a=e.obtenerProyectos;return Object(r.useEffect)((function(){a()}),[]),0===t.length?Object(j.jsx)("p",{children:"No hay proyectos, comienza creando uno"}):Object(j.jsx)("ul",{className:"listado-proyectos",children:t.map((function(e){return Object(j.jsx)(x,{proyecto:e},e.id)}))})},y=function(){var e=Object(r.useContext)(O),t=e.formulario,a=e.errorformulario,c=e.mostrarFormulario,n=e.agregarProyecto,o=e.mostrarError,s=Object(r.useState)({nombre:""}),i=Object(b.a)(s,2),d=i[0],p=i[1],m=d.nombre;return Object(j.jsxs)(r.Fragment,{children:[Object(j.jsx)("button",{type:"button",className:"btn btn-block btn-primario",onClick:function(){c()},children:"Nuevo Proyecto"}),t?Object(j.jsxs)("form",{className:"formulario-nuevo-proyecto",onSubmit:function(e){e.preventDefault(),""!==m?(n(d),p({nombre:""})):o()},children:[Object(j.jsx)("input",{type:"text",className:"input-text",placeholder:"Nombre Proyecto",name:"nombre",value:m,onChange:function(e){p(Object(u.a)(Object(u.a)({},d),{},Object(l.a)({},e.target.name,e.target.value)))}}),Object(j.jsx)("input",{type:"submit",className:"btn btn-primario btn-block",value:"Agregar Proyecto"})]}):null,a?Object(j.jsx)("p",{className:"mensaje error",children:"El nombre del Proyecto es obligatorio"}):null]})},v=function(){return Object(j.jsxs)("aside",{children:[Object(j.jsxs)("h1",{children:["MERN",Object(j.jsx)("span",{children:"Task"})]}),Object(j.jsx)(y,{}),Object(j.jsxs)("div",{className:"proyectos",children:[Object(j.jsx)("h2",{children:"Tus Proyectos"}),Object(j.jsx)(f,{})]})]})},N=function(){var e=Object(r.useContext)(O).proyecto,t=Object(r.useContext)(h),a=t.tareaseleccionada,c=t.errortarea,n=t.agregarTarea,o=t.validarTarea,s=t.obtenerTareas,i=t.actualizarTarea,d=t.limpiarTarea;Object(r.useEffect)((function(){f(null!==a?a:{nombre:""})}),[a]);var p=Object(r.useState)({nombre:""}),m=Object(b.a)(p,2),x=m[0],f=m[1],y=x.nombre;if(!e)return null;var v=Object(b.a)(e,1)[0];return Object(j.jsxs)("div",{className:"formulario",children:[Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==y.trim()?(null===a?(x.proyecto=v._id,n(x)):(i(x),d()),s(v.id),f({nombre:""})):o()},children:[Object(j.jsx)("div",{className:"contenedor-input",children:Object(j.jsx)("input",{type:"text",className:"input-text",placeholder:"Nombre Tarea...",name:"nombre",value:y,onChange:function(e){f(Object(u.a)(Object(u.a)({},x),{},Object(l.a)({},e.target.name,e.target.value)))}})}),Object(j.jsx)("div",{className:"contenedor-input",children:Object(j.jsx)("input",{type:"submit",className:"btn btn-primario btn-submit btn-block",value:a?"Editar Tarea":"Agregar Tarea"})})]}),c?Object(j.jsx)("p",{className:"mensaje error",children:"El nombre de la tarea es obligatorio"}):null]})},g=function(e){var t=e.tarea,a=Object(r.useContext)(O).proyecto,c=Object(r.useContext)(h),n=c.eliminarTarea,o=c.obtenerTareas,s=c.actualizarTarea,i=c.guardarTareaActual,l=Object(b.a)(a,1)[0],u=function(e){e.estado?e.estado=!1:e.estado=!0,s(e)};return Object(j.jsxs)("li",{className:"tarea sombra",children:[Object(j.jsxs)("p",{children:[t.nombre," "]}),Object(j.jsx)("div",{className:"estado",children:t.estado?Object(j.jsx)("button",{type:"button",className:"completo",onClick:function(){return u(t)},children:"Completo"}):Object(j.jsx)("button",{type:"button",className:"incompleto",onClick:function(){return u(t)},children:"Incompleto"})}),Object(j.jsxs)("div",{className:"acciones",children:[Object(j.jsx)("button",{type:"button",className:"btn btn-primario",onClick:function(){return function(e){i(e)}(t)},children:"Editar"}),Object(j.jsx)("button",{type:"button",className:"btn btn-secundario",onClick:function(){return e=t._id,n(e,l._id),void o(l.id);var e},children:"Eliminar"})]})]})},T=a(74),C=a(72),E=function(){var e=Object(r.useContext)(O),t=e.proyecto,a=e.eliminarProyecto,c=Object(r.useContext)(h).tareasproyecto;if(!t)return Object(j.jsx)("h2",{children:"Selecciona un proyecto"});var n=Object(b.a)(t,1)[0];return Object(j.jsxs)(r.Fragment,{children:[Object(j.jsxs)("h2",{children:["Proyecto: ",n.nombre," "]}),Object(j.jsx)("ul",{className:"listado-tareas",children:0===c.length?Object(j.jsx)("li",{className:"tarea",children:Object(j.jsx)("p",{children:"No hay tareas"})}):Object(j.jsx)(T.a,{children:c.map((function(e){return Object(j.jsx)(C.a,{timeout:200,classNames:"tarea",children:Object(j.jsx)(g,{tarea:e})},e.id)}))})}),Object(j.jsx)("button",{type:"button",className:"btn btn-eliminar",onClick:function(){a(n._id)},children:"Eliminar Proyecto \xd7"})]})},A=function(){return Object(j.jsxs)("div",{className:"contenedor-app",children:[Object(j.jsx)(v,{}),Object(j.jsxs)("div",{className:"seccion-principal",children:[Object(j.jsx)(m,{}),Object(j.jsxs)("main",{children:[Object(j.jsx)(N,{}),Object(j.jsx)("div",{className:"contenedor-tareas"}),Object(j.jsx)(E,{})]})]})]})},R=a(73),P=a(20),_="FORMULARIO_PROYECTO",w="OBTENER_PROYECTOS",k="AGREGAR_PROYECTO",S="VALIDAR_FORMULARIO",I="PROYECTO_ACTUAL",F="ELIMINAR_PROYECTO",L="TAREAS_PROYECTO",D="AGREGAR_TAREA",U="VALIDAR_TAREA",M="ELIMINAR_TAREA",Y="TAREA_ACTUAL",B="ACTUALIZAR_TAREA",H="LIMPIAR_TAREA",z=function(e,t){switch(t.type){case _:return Object(u.a)(Object(u.a)({},e),{},{formulario:!0});case w:return Object(u.a)(Object(u.a)({},e),{},{proyectos:t.payload});case k:return Object(u.a)(Object(u.a)({},e),{},{proyectos:[].concat(Object(P.a)(e.proyectos),[t.payload]),formulario:!1,errorformulario:!1});case S:return Object(u.a)(Object(u.a)({},e),{},{errorformulario:!0});case I:return Object(u.a)(Object(u.a)({},e),{},{proyecto:e.proyectos.filter((function(e){return e.id===t.payload}))});case F:return Object(u.a)(Object(u.a)({},e),{},{proyectos:e.proyectos.filter((function(e){return e.id!==t.payload})),proyecto:null});case"PROYECTO_ERROR":return Object(u.a)(Object(u.a)({},e),{},{mensaje:t.payload});default:return e}},G=function(e){var t=[{id:1,nombre:"Dise\xf1io web"},{id:2,nombre:"Mantenimiento"}],a=Object(r.useReducer)(z,{proyectos:[],formulario:!1,errorformulario:!1,proyecto:null,mensaje:null}),c=Object(b.a)(a,2),n=c[0],o=c[1];return Object(j.jsx)(O.Provider,{value:{proyectos:n.proyectos,formulario:n.formulario,errorformulario:n.errorformulario,proyecto:n.proyecto,mostrarFormulario:function(){o({type:_})},obtenerProyectos:function(){o({type:w,payload:t})},agregarProyecto:function(e){e.id=Object(R.a)(),o({type:k,payload:e})},mostrarError:function(){o({type:S})},proyectoActual:function(e){o({type:I,payload:e})},eliminarProyecto:function(e){o({type:F,payload:e})}},children:e.children})},K=a(12),V=a.n(K),W=a(18),J=function(e,t){switch(t.type){case L:return Object(u.a)(Object(u.a)({},e),{},{tareasproyecto:t.payload});case D:return Object(u.a)(Object(u.a)({},e),{},{tareasproyecto:[t.payload].concat(Object(P.a)(e.tareasproyecto)),errortarea:!1});case U:return Object(u.a)(Object(u.a)({},e),{},{errortarea:!0});case M:return Object(u.a)(Object(u.a)({},e),{},{tareasproyecto:e.tareasproyecto.filter((function(e){return e._id!==t.payload}))});case B:return Object(u.a)(Object(u.a)({},e),{},{tareasproyecto:e.tareasproyecto.map((function(e){return e._id===t.payload._id?t.payload:e}))});case Y:return Object(u.a)(Object(u.a)({},e),{},{tareaseleccionada:t.payload});case H:return Object(u.a)(Object(u.a)({},e),{},{tareaseleccionada:null});default:return e}},Z=a(34),q=a.n(Z).a.create({baseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/AdminTareas",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_BACKEND_URL}),Q=function(e){var t=Object(r.useReducer)(J,{tareasproyecto:[{id:1,nombre:"Elegi Plataforma",estado:!0,proyectoId:1},{id:2,nombre:"Elegi Colores",estado:!1,proyectoId:2},{id:3,nombre:"Elegi Plataforma pago",estado:!0,proyectoId:3},{id:4,nombre:"Elegi Hosting",estado:!1,proyectoId:4}],errortarea:!1,tareaseleccionada:null}),a=Object(b.a)(t,2),c=a[0],n=a[1],o=function(){var e=Object(W.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,q.get("/api/tareas",{params:{proyecto:t}});case 4:a=e.sent,console.log(a),n({type:L,payload:a.data.tareas}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(W.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,e.next=4,q.post("/api/tareas",t);case 4:a=e.sent,console.log(a),n({type:D,payload:t}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(W.a)(V.a.mark((function e(t,a){return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.delete("/api/tareas/".concat(t),{params:{proyecto:a}});case 3:n({type:M,payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,a){return e.apply(this,arguments)}}(),l=function(){var e=Object(W.a)(V.a.mark((function e(t){var a;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q.put("/api/tareas/".concat(t._id),t);case 3:a=e.sent,n({type:B,payload:a.data.tarea}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsx)(h.Provider,{value:{tareasproyecto:c.tareasproyecto,errortarea:c.errortarea,tareaseleccionada:c.tareaseleccionada,obtenerTareas:o,agregarTarea:s,validarTarea:function(){n({type:U})},eliminarTarea:i,guardarTareaActual:function(e){n({type:Y,payload:e})},actualizarTarea:l,limpiarTarea:function(){n({type:H})}},children:e.children})};var X=function(){return Object(j.jsx)(G,{children:Object(j.jsx)(Q,{children:Object(j.jsx)(s.a,{children:Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{exact:!0,path:"/",component:d}),Object(j.jsx)(i.a,{exact:!0,path:"/nueva-cuenta",component:p}),Object(j.jsx)(i.a,{exact:!0,path:"/proyectos",component:A})]})})})})},$=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,75)).then((function(t){var a=t.getCLS,r=t.getFID,c=t.getFCP,n=t.getLCP,o=t.getTTFB;a(e),r(e),c(e),n(e),o(e)}))};o.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(X,{})}),document.getElementById("root")),$()}},[[69,1,2]]]);
//# sourceMappingURL=main.64e03b04.chunk.js.map